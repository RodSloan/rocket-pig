<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
	<head>
		<title>Island Madness</title>

		<link href="/stylesheets/screen.css" media="all" rel="stylesheet" type="text/css"/>
		<script language="javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js" type="text/javascript"></script>
		<script language="javascript" src="js/squarepig.js" type="text/javascript"></script>
		
		<style>
			canvas { padding-left: 0;
    padding-right: 0;
    margin-left: auto;
    margin-right: auto;
    display: block;}
</style>
		</style>


		<script> //<![CDATA[


		/*
		**	I don't like this code as much as the No Pain stuff. 
		**
		*/

			function TestImage(x, y, image) {
				pig.Entity.apply(this) ;
				this.x = x ;
				this.y = y ;
				this.image = new pig.Image(x, y, image) ;
				this.graphic = this.image ;
			}

			function Player(x, y) {
				pig.Entity.apply(this) ;
				this.x = x ;
				this.y = y ;
				this.image = new pig.Image(x, y, "img/blockie.png");
				this.graphic = this.image ;
				this.direction = "right";	
			
				this.keyDown = function(key) {
					switch(key) {
						case pig.key.LEFT: 
							this.x -= 10 ; 
							break ;
						case pig.key.RIGHT: 
							this.x += 10 ;
							break ;
						case pig.key.UP: /*this.y -= 16 ;*/ break ;
						case pig.key.DOWN: /*this.y += 16 ;*/ break ;
						default: break ;
					}
					this.graphic.place([this.x, this.y]) ;
				} ;
			}

			function Plant(x,y,type) {
				pig.Entity.apply(this) ;
				this.x = x ;
				this.y = y ;
				this.type = type;
				image = "img/"+this.type+".png";
				this.height = Math.floor(Math.random()*20,1);
				//Create the image from multiple pictures	
				this.image = new pig.Image(x, y, image) ;
				this.graphic = this.image ;
			}

			function main() {
				pig.init('pig-canvas') ;
				pig.world.add(new TestImage(0, 0, "img/bg.png")) ;
				pig.world.add(new TestImage(0, 256, "img/ground1.png")) ;
				//Add a bunch of plants randomly at setup	
				pig.world.add(new Plant(315, 256, "bamboo"));
				pig.world.add(new Plant(215, 256, "kotake"));
				pig.world.add(new Player(240, 256)) ;
				pig.run() ;

			}
		 //]]>
</script>
	</head>
	<body onload = "main();">
		<canvas id = "pig-canvas" style = "width: 550px; height: 400px">
			<p>Hang on! Your browser doesn't support the &lt;canvas&gt; tag! How about updating your browser?</p>
		</canvas>

		
<section>
<div align="center"><a href="http://www.drivethrurpg.com/browse.php?filters=600_0_0_0_0&affiliate_id=273771"><img src="http://www.drivethrurpg.com/themes/dtrpg/images/Superhero-Banner-DTRPG-Revised.jpg" border="0" alt="Superheroes - Available Now @ DriveThruRPG.com" /></a></div>
</section>

<footer>
<div align="center">
<p>&copy; 2015 Rodney K Sloan. All rights reserved. Updated: 11 June 2015.</p>
<p>Made with <a href = "https://github.com/aeonofdiscord/squarepig">squarepig</a>.</p>
		
</div>
</footer>

	</body>
</html>
